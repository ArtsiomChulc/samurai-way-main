"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[959],{5959:function(s,e,t){t.r(e),t.d(e,{default:function(){return O}});var r=t(1413),o=t(5671),n=t(3144),i=t(136),a=t(5716),u=t(2791),p={},l=t(2457),h=t(2982),c="post_post__tfeAO",d="post_message_text__dR8Js",m="post_like__6LTKi",f="post_likeCount__22JGR",g=t(2596),P=t(184),v=function(s){return(0,P.jsxs)("div",{className:c,children:[(0,P.jsx)("img",{src:"https://png.pngtree.com/png-vector/20190710/ourmid/pngtree-user-vector-avatar-png-image_1541962.jpg",alt:""}),(0,P.jsx)("span",{className:d,children:(0,P.jsx)(g.Z,{message:s.message,onChangeMessageCB:function(e){s.onChangeMessage(e)}})}),(0,P.jsxs)("span",{className:m,children:[(0,P.jsx)("img",{src:"https://www.svgrepo.com/show/220662/like.svg",alt:""}),(0,P.jsx)("span",{className:f,children:s.likeCount})]})]})},x="mypost_myPost__AsuSx",j="mypost_wrapAddMessage__N2-QO",_="mypost_error__cx8Ih",k=t(2548),w=t(5705),C=u.memo((function(s){var e=(0,h.Z)(s.posts.posts).reverse().map((function(e){return(0,P.jsx)(v,{message:e.post,likeCount:e.likeCount,onChangeMessage:function(t){s.onChangeMessageCB(t,e.id)}},e.id)}));return(0,P.jsxs)("div",{className:x,children:[(0,P.jsx)("div",{children:(0,P.jsx)(y,{addPost:s.addPostCB})}),e]})})),y=function(s){var e=(0,w.TA)({initialValues:{newPostFormik:""},onSubmit:function(t){s.addPost(t.newPostFormik),e.resetForm()},validate:function(s){var e={};return 0===s.newPostFormik.length?e.newPostFormik="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0441\u0442":s.newPostFormik.length<3&&(e.newPostFormik="\u041d\u0443 \u0435\u0449\u0435 \u0447\u0443\u0442\u044c-\u0447\u0443\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u044c \u0431\u0443\u043a\u0432)))"),e}});return(0,P.jsxs)("form",{onSubmit:e.handleSubmit,className:j,children:[(0,P.jsx)("textarea",(0,r.Z)({},e.getFieldProps("newPostFormik"))),e.errors.newPostFormik&&(0,P.jsx)("div",{className:_,children:e.errors.newPostFormik}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{type:"submit",className:k.Z.btn,children:"Add post"})})]})},F=t(8687),S=(0,F.$j)((function(s){return{posts:s.profilePage}}),(function(s){return{addPostCB:function(e){s((0,l.hB)(e))},onChangeMessageCB:function(e,t){s((0,l.FK)(e,t))}}}))(C),N=t(2353),Z=(0,u.lazy)((function(){return t.e(208).then(t.bind(t,9208))})),b=function(s){return(0,P.jsxs)("div",{className:p.profile,children:[(0,P.jsx)(u.Suspense,{fallback:(0,P.jsx)(N.Z,{}),children:(0,P.jsx)(Z,{isOwner:s.isOwner,status:s.status,updateStatus:s.updateStatus,profile:s.profile,savePhoto:s.savePhoto,saveProfile:s.saveProfile})}),(0,P.jsx)(S,{})]})},A=t(9271),M=t(7781),I=t(5626),B=function(s){(0,i.Z)(t,s);var e=(0,a.Z)(t);function t(){return(0,o.Z)(this,t),e.apply(this,arguments)}return(0,n.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUsersProfile(s),this.props.getStatusProfile(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,P.jsx)(b,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusProfile,isAuth:this.props.isAuth,isOwner:!this.props.match.params.userId}))}}]),t}(u.Component),O=(0,M.qC)((0,F.$j)((function(s){return{profile:(0,I.fi)(s),status:(0,I.lR)(s),isAuth:(0,I.yx)(s),authorizedUserId:(0,I.xT)(s)}}),{getUsersProfile:l.L,getStatusProfile:l.Yw,updateStatusProfile:l.XC,savePhoto:l.Tw,saveProfile:l.Ms}),A.EN)(B)}}]);
//# sourceMappingURL=959.c9b9da66.chunk.js.map